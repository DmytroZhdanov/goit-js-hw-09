{"mappings":"YAAA,IAUIA,EAVEC,EAAO,CACXC,KAAMC,SAASD,KACfE,MAAOD,SAASE,cAAc,oBAC9BC,SAAUH,SAASE,cAAc,sBACjCE,WAAYJ,SAASE,cAAc,eACnCG,YAAaL,SAASE,cAAc,gBACpCI,cAAeN,SAASE,cAAc,kBACtCK,cAAeP,SAASE,cAAc,mBAQxCJ,EAAKC,KAAKS,mBAAmB,YAD3B,sFAEF,IAAMC,EAAiBT,SAASE,cAAc,kBAoB9C,SAASQ,IACPb,EAAQc,IAER,IAiBsBC,EAjBhBC,GAiBgBD,EAjBMf,EAkBrBiB,EAAIC,KAAKC,MAAMJ,EAAK,SAjBrBK,EAoBR,SAAwBL,GACtB,OAAOE,EAAIC,KAAKC,MAAMJ,EAAM,MAAY,M,CArB1BM,CAAerB,GACvBsB,EAuBR,SAA0BP,GACxB,OAAOE,EAAIC,KAAKC,MAAMJ,EAAM,KAAW,K,CAxBvBQ,CAAiBvB,GAC3BwB,EA0BR,SAA0BT,GACxB,OAAOE,EAAIC,KAAKC,MAAMJ,EAAM,IAAS,K,CA3BrBU,CAAiBzB,GAEjCC,EAAKM,WAAWmB,YAAc,GAAQC,OAALX,GACjCf,EAAKO,YAAYkB,YAAc,GAASC,OAANP,GAClCnB,EAAKQ,cAAciB,YAAc,GAAWC,OAARL,GACpCrB,EAAKS,cAAcgB,YAAc,GAAWC,OAARH,E,CAGtC,SAASV,IAGP,OAFuB,IAAIc,KAAK3B,EAAKG,MAAMyB,OACxB,IAAID,I,CAoBzB,SAASX,EAAIY,GACX,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,CAvDnC9B,EAAKG,MAAM4B,KAAO,iBAClB/B,EAAKK,SAAS2B,UAAW,EAEzBhC,EAAKG,MAAM8B,iBAAiB,QAuD5B,WACE,IAAMC,EAAarB,IAAiB,EAE/BqB,EAQHlC,EAAKK,SAAS2B,UAAYE,GAP1BlC,EAAKK,SAAS2B,UAAYE,EAC1BvB,EAAewB,UAAUC,OAAO,aAEhCC,YAAW,WACT1B,EAAewB,UAAUG,IAAI,Y,GAC5B,K,IA/DPtC,EAAKK,SAAS4B,iBAAiB,SAE/B,WACEjC,EAAKK,SAAS2B,UAAW,EACzBpB,IACA,IAAM2B,EAAKC,aAAY,WACrB5B,IAEIb,EAnBM,KAoBR0C,cAAcF,E,GApBN,I","sources":["src/js/02-timer.js"],"sourcesContent":["const refs = {\n  body: document.body,\n  input: document.querySelector('#datetime-picker'),\n  startBtn: document.querySelector('button[data-start]'),\n  outputDays: document.querySelector('[data-days]'),\n  outputHours: document.querySelector('[data-hours]'),\n  outputMinutes: document.querySelector('[data-minutes]'),\n  outputSeconds: document.querySelector('[data-seconds]'),\n};\n\nlet delta;\nconst DELAY = 1000;\n\nconst message =\n  '<div class=\"alert-message is-hidden\"> ðŸš« Please, choose a date in the future</div>';\nrefs.body.insertAdjacentHTML('beforeend', message);\nconst alertContainer = document.querySelector('.alert-message');\n\nrefs.input.type = 'datetime-local';\nrefs.startBtn.disabled = true;\n\nrefs.input.addEventListener('blur', onInputBlur);\nrefs.startBtn.addEventListener('click', onStartBtnClick);\n\nfunction onStartBtnClick() {\n  refs.startBtn.disabled = true;\n  setTimer();\n  const id = setInterval(() => {\n    setTimer()\n\n    if (delta < DELAY) {\n      clearInterval(id);\n    }\n  }, DELAY);\n}\n\nfunction setTimer() {\n  delta = getDeltaTime();\n\n  const days = calculateDates(delta);\n  const hours = calculateHours(delta);\n  const minutes = calculateMinutes(delta);\n  const seconds = calculateSeconds(delta);\n\n  refs.outputDays.textContent = `${days}`;\n  refs.outputHours.textContent = `${hours}`;\n  refs.outputMinutes.textContent = `${minutes}`;\n  refs.outputSeconds.textContent = `${seconds}`;\n}\n\nfunction getDeltaTime() {\n  const chosenDatetime = new Date(refs.input.value);\n  const currenTime = new Date();\n  return chosenDatetime - currenTime;\n}\n\nfunction calculateDates(ms) {\n  return pad(Math.floor(ms / 86400000));\n}\n\nfunction calculateHours(ms) {\n  return pad(Math.floor((ms % 86400000) / 3600000));\n}\n\nfunction calculateMinutes(ms) {\n  return pad(Math.floor((ms % 3600000) / 60000));\n}\n\nfunction calculateSeconds(ms) {\n  return pad(Math.floor((ms % 60000) / 1000));\n}\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction onInputBlur() {\n  const isInFuture = getDeltaTime() > 0;\n\n  if (!isInFuture) {\n    refs.startBtn.disabled = !isInFuture;\n    alertContainer.classList.remove('is-hidden');\n\n    setTimeout(() => {\n      alertContainer.classList.add('is-hidden');\n    }, 3000);\n  } else {\n    refs.startBtn.disabled = !isInFuture;\n  }\n}\n"],"names":["$84b9dae4df53835d$var$delta","$84b9dae4df53835d$var$refs","body","document","input","querySelector","startBtn","outputDays","outputHours","outputMinutes","outputSeconds","insertAdjacentHTML","$84b9dae4df53835d$var$alertContainer","$84b9dae4df53835d$var$setTimer","$84b9dae4df53835d$var$getDeltaTime","ms","days","$84b9dae4df53835d$var$pad","Math","floor","hours","$84b9dae4df53835d$var$calculateHours","minutes","$84b9dae4df53835d$var$calculateMinutes","seconds","$84b9dae4df53835d$var$calculateSeconds","textContent","concat","Date","value","String","padStart","type","disabled","addEventListener","isInFuture","classList","remove","setTimeout","add","id","setInterval","clearInterval"],"version":3,"file":"02-timer.dd55aed9.js.map"}